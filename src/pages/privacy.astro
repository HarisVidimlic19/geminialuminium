---
import MainLayout from '../layouts/MainLayout.astro';
const baseUrl = import.meta.env.BASE_URL;
---

<MainLayout 
	title="Privacy Policy"
	description="Privacy policy for Gemini Home Improvements - How we collect, use, and protect your personal information."
>
	<div class="container content-page">
		<h1>Privacy Policy</h1>
		<p class="last-updated">Last Updated: January 2025</p>

		<section>
			<h2>1. Information We Collect</h2>
			<p>When you contact us through our website, we may collect:</p>
			<ul>
				<li>Your name</li>
				<li>Email address</li>
				<li>Phone number</li>
				<li>Project details you provide</li>
			</ul>
		</section>

		<section>
			<h2>2. How We Use Your Information</h2>
			<p>We use your information solely to:</p>
			<ul>
				<li>Respond to your inquiries</li>
				<li>Provide quotes for services</li>
				<li>Schedule and complete projects</li>
				<li>Follow up on completed work</li>
			</ul>
			<p>We do NOT sell, rent, or share your information with third parties for marketing purposes.</p>
		</section>

		<section>
			<h2>3. Data Storage and Security</h2>
			<p>Your contact form submissions are sent directly via email. We do not store personal information on web servers. Email communications are protected by industry-standard encryption.</p>
		</section>

		<section>
			<h2>4. Cookies and Analytics</h2>
			<p>We use Google Analytics to understand website traffic and improve user experience. Google Analytics uses cookies to collect anonymous data about:</p>
			<ul>
				<li>Pages visited</li>
				<li>Time spent on site</li>
				<li>General location (city level)</li>
				<li>Device and browser type</li>
			</ul>
			<p>This data is anonymous and cannot identify you personally. You can opt-out of Google Analytics by installing the <a href="https://tools.google.com/dlpage/gaoptout" target="_blank" rel="noopener">Google Analytics Opt-out Browser Add-on</a>.</p>
		</section>

		<section>
			<h2>5. Your Rights (PIPEDA Compliance)</h2>
			<p>Under Canadian privacy law (PIPEDA), you have the right to:</p>
			<ul>
				<li>Know what personal information we have about you</li>
				<li>Request correction of inaccurate information</li>
				<li>Request deletion of your information</li>
				<li>Withdraw consent for data processing</li>
			</ul>
			<p>To exercise these rights, contact us at: <a href="#" id="privacy-email-rights" class="contact-link">Loading...</a></p>
		</section>

		<section>
			<h2>6. Third-Party Services</h2>
			<p>Our website uses:</p>
			<ul>
				<li><strong>Google Analytics</strong> - Website analytics (<a href="https://policies.google.com/privacy" target="_blank" rel="noopener">Privacy Policy</a>)</li>
				<li><strong>GitHub Pages</strong> - Website hosting (<a href="https://docs.github.com/en/site-policy/privacy-policies/github-privacy-statement" target="_blank" rel="noopener">Privacy Policy</a>)</li>
				<li><strong>Cloudflare</strong> - CDN and security (<a href="https://www.cloudflare.com/privacypolicy/" target="_blank" rel="noopener">Privacy Policy</a>)</li>
			</ul>
		</section>

		<section>
			<h2>7. Contact Form Security</h2>
			<p>Our contact form uses mailto: protocol - your message is sent through your email client. We do not intercept or store form data on web servers.</p>
		</section>

		<section>
			<h2>8. Data Retention</h2>
			<p>We retain customer information only as long as necessary to provide services and comply with legal obligations. Typically:</p>
			<ul>
				<li>Quote requests: 1 year</li>
				<li>Active projects: Duration of project + 2 years</li>
				<li>Completed projects: 7 years (for warranty purposes)</li>
			</ul>
		</section>

		<section>
			<h2>9. Children's Privacy</h2>
			<p>Our services are not directed to individuals under 18. We do not knowingly collect information from children.</p>
		</section>

		<section>
			<h2>10. Changes to This Policy</h2>
			<p>We may update this policy occasionally. Changes will be posted on this page with an updated "Last Updated" date.</p>
		</section>

		<section>
			<h2>11. Contact Us</h2>
			<p>For privacy questions or concerns, contact:</p>
			<p>
				<strong>Gemini Home Improvements</strong><br>
				Email: <a href="#" id="privacy-email-contact" class="contact-link">Loading...</a><br>
				Phone: <span id="privacy-phone" class="contact-display">Loading...</span>
			</p>
		</section>
	</div>

	<script>
		// Auto-render obfuscated email and phone on page load
		document.addEventListener('DOMContentLoaded', () => {
			// Obfuscated email: geminihi@outlook.com (Base64)
			const obfuscatedEmail = atob('Z2VtaW5paGlAb3V0bG9vay5jb20=');
			
			// Update both email links
			const emailRights = document.getElementById('privacy-email-rights');
			if (emailRights) {
				emailRights.setAttribute('href', 'mailto:' + obfuscatedEmail);
				emailRights.textContent = obfuscatedEmail;
			}
			
			const emailContact = document.getElementById('privacy-email-contact');
			if (emailContact) {
				emailContact.setAttribute('href', 'mailto:' + obfuscatedEmail);
				emailContact.textContent = obfuscatedEmail;
			}
			
			// Obfuscated phone number (Character codes)
			const phoneCodes = [52,49,54,51,53,55,55,55,49,54];
			const phone = String.fromCharCode(...phoneCodes);
			const formatted = phone.replace(/(\d{3})(\d{3})(\d{4})/, '($1) $2-$3');
			const privacyPhone = document.getElementById('privacy-phone');
			if (privacyPhone) {
				privacyPhone.textContent = formatted;
			}
		});
	</script>
</MainLayout>

<style>
	.content-page {
		max-width: 800px;
		padding: 2rem 1rem;
		margin: 2rem auto;
	}
	
	.last-updated {
		color: #666;
		font-style: italic;
		margin-bottom: 2rem;
	}
	
	section {
		margin-bottom: 3rem;
	}
	
	h1 {
		color: #1e4d2b;
		margin-bottom: 0.5rem;
	}
	
	h2 {
		color: #1e4d2b;
		margin-bottom: 1rem;
		margin-top: 2rem;
	}
	
	ul {
		margin: 1rem 0;
		padding-left: 2rem;
	}
	
	li {
		margin-bottom: 0.5rem;
		line-height: 1.6;
	}
	
	p {
		line-height: 1.6;
		color: #333;
	}
	
	a {
		color: #7cb342;
		text-decoration: none;
	}
	
	a:hover {
		text-decoration: underline;
	}

	.contact-display,
	.contact-link {
		color: #1e4d2b;
		font-weight: 500;
	}

	.contact-link {
		text-decoration: none;
	}

	.contact-link:hover {
		text-decoration: underline;
	}
</style>
